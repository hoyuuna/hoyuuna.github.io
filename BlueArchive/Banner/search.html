<!DOCTYPE html>
<html lang="en">
<head>
    <title>Tra cứu banner - Hoyuuna</title>
    <link rel="icon" href="assets/img/logo.png">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Nhận gợi ý trước khi ra quyết định gacha của bạn!">
    <meta property="og:image" content="https://i.imgur.com/1R8WwRL.png">
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>

<div class="device-notification">
    <a class="device-notification--logo" href="#0">
        <img src="assets/img/logo.png" alt="Simp Hoxilo">
        <p>Hoyuuna</p>
    </a>
    <p class="device-notification--message">Chào mừng bạn đến với trang tra cứu banner học sinh Blue Archive của Hoyuuna!</p>
</div>

<div class="perspective effect-rotate-left">
    <div class="container"><div class="outer-nav--return"></div>
        <div id="viewport" class="l-viewport">
            <div class="l-wrapper">
                <header class="header">
                    <a class="header--logo" href="#0">
                        <img src="assets/img/logo.png" alt="Global">
                        <p>Hoyuuna</p>
                    </a>
                    <button class="header--cta cta">Đóng góp</button>
                    <div class="header--nav-toggle">
                        <span></span>
                    </div>
                </header>
                <nav class="l-side-nav">
                    <ul class="side-nav">
                        <li class="is-active"><span>Giới thiệu</span></li>
                        <li><span>Tra cứu</span></li>
                        <li><span>Đóng góp</span></li>
                    </ul>
                </nav>
                <ul class="l-main-content main-content">
                    <li class="l-section section section--is-active">
                        <div class="intro">
                            <div class="intro--banner">
                                <h1>Chào mừng!</h1>
                                <p>Cuộn để bắt đầu tra cứu</p>
                                <img src="assets/img/introduction-visual.png" alt="Welcome">
                            </div>
                            <div class="intro--options">
                                <p>Chào mừng bạn đến với trang công cụ tra cứu banner học sinh bởi Hoyuuna! Công cụ được dùng để nhận gợi ý trước khi ra quyết định gacha của bạn đến từ những người chơi kì cựu. Xin lưu ý thông tin được cung cấp chỉ mang tính chất tham khảo, quyết định cuối cùng thuộc về bạn. Chúng tôi không chịu trách nhiệm đối với bất kỳ hậu quả nào phát sinh từ việc sử dụng thông tin này.</p>
                            </div>
                        </div>
                    </li>
                    <li class="l-section section">
                        <div class="work">
                            <h2>Tra cứu</h2>
                            <div class="work--lockup">
                                <div class="card" id="searchContainer">
                                    <input type="text" id="searchInput" placeholder="Tìm kiếm học sinh...">
                                </div>
                                <div class="card" id="result"></div>
                            </div>
                        </div>
                    </li>
                    <li class="l-section section">
                        <div class="work">
                            <h2>Đóng góp</h2>
                            <div class="work--lockup">
        <div class="card" style="background-color: black; border: 1px solid white; padding: 20px;">
            <form id="contributionForm">

                <label for="discord" style="color: white;">Email của bạn:</label><br>
                <input type="text" id="discord" name="discord" required style="background-color: #333; color: white; border: 1px solid #555; padding: 5px; width: 100%; box-sizing: border-box;"><br><br>

                <label for="studentName" style="color: white;">Tên học sinh (không có họ) + form (nếu có):</label><br>
                <input type="text" id="studentName" name="studentName" required style="background-color: #333; color: white; border: 1px solid #555; padding: 5px; width: 100%; box-sizing: border-box;"><br><br>

                <label for="rarity" style="color: white;">Độ hiếm:</label><br>
                <select id="rarity" name="rarity" required style="background-color: #333; color: white; border: 1px solid #555; padding: 5px; width: 100%; box-sizing: border-box;">
                    <option value="">Chọn độ hiếm</option>
                    <option value="Thường">Thường</option>
                    <option value="Giới hạn">Giới hạn (limited)</option>
                    <option value="FES">FES (limited fes)</option>
                </select><br><br>

                <label for="role" style="color: white;">Vai trò:</label><br>
                <select id="role" name="role" required style="background-color: #333; color: white; border: 1px solid #555; padding: 5px; width: 100%; box-sizing: border-box;">
                    <option value="">Chọn vai trò</option>
                    <option value="Tấn công">Tấn công</option>
                    <option value="Hỗ trợ">Hỗ trợ</option>
                </select><br><br>

                <label for="suggestion" style="color: white;">Gợi ý banner:</label><br>
                <input type="text" id="suggestion" name="suggestion" required style="background-color: #333; color: white; border: 1px solid #555; padding: 5px; width: 100%; box-sizing: border-box;"><br><br>

                <label for="info" style="color: white;">Thông tin:</label><br>
                <textarea id="info" name="info" rows="4" cols="50" required style="background-color: #333; color: white; border: 1px solid #555; padding: 5px; width: 100%; box-sizing: border-box;"></textarea><br><br>

                <button type="button" onclick="submitForm()" style="background-color: #0f33ff; color: white; border: none; padding: 10px 20px; cursor: pointer; width: 100%; box-sizing: border-box;">Gửi đóng góp (nhấn xong đợi 5-10s)</button>
            </form>
            <div id="formMessage" style="color: white;"></div>
        </div>
    </div>

    <script>
        function submitForm() {
      var form = document.getElementById("contributionForm");
      var data = {
        name: form.name.value,
        discord: form.discord.value,
        studentName: form.studentName.value,
        rarity: form.rarity.value,
        suggestion: form.suggestion.value,
        info: form.info.value,
        role: form.role.value,
      };

      fetch(
        "https://script.google.com/macros/s/AKfycbzqn89LizNsiw_iByUkPNGyztpk-eBRtH1E0mhdtDMt7IwHdJy0hvFwS6gJgvBz3cAQ/exec",
        {
          method: "POST",
          mode: "no-cors",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        }
      )
        .then((response) => {
          formSubmitted("Thành công. Cảm ơn bạn đã đóng góp cho tool tra cứu!");
        })
        .catch((error) => {
          console.error("Lỗi:", error);
          formSubmitted("Có lỗi xảy ra. Vui lòng thử lại sau D:");
        });
    }
                function formSubmitted(message) {
            document.getElementById("formMessage").innerHTML = message;
            document.getElementById("contributionForm").reset();
        }
    </script>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <ul class="outer-nav">
        <li class="is-active">Giới thiệu</li>
        <li>Tra cứu</li>
        <li>Đóng góp</li>
    </ul>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-2.2.4.min.js"><\/script>')</script>
<script src="assets/js/functions-min.js"></script>
<script src="characterSearch.js"></script>
<script>document.getElementById('result').addEventListener('wheel', function(event) {
    event.stopPropagation();
});
</script>
</body>
</html>
